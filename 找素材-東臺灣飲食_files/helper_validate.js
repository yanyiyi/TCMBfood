var emailFormat=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,ch_langFormat=/^[\d|\u4E00-\u9FA5]*$/,pt_langFormat=/^[\s\d|a-zA-Z\u00C0-\u00ff]*$/,en_langFormat=/^[\s\d|a-zA-Z]*$/,ch_pt_en_langFormat=/^[\s\d|a-zA-Z|\u4E00-\u9FA5|\u00C0-\u00ff'?,;.)(\-]*$/,urlFormat=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/,latitudeFormat=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)$/,longitudeFormat=/^[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/,pay_account_format=/^\d{12}$/,int_format=/^\d*$/,float_format=/^([+-]?)[0-9]\d*\.\d*$/,ck_text_empty=function(t){var e="";return t&&(t=t.toString().trim()),t||(e="error_200002"),e},ck_text_length_empty=function(t,e){var n="";return t&&t.length>e&&(n=langTrans("error_200102").replace("[[limit]]",e)),n},ck_pay_account_format=function(t){var e="";return t&&0==pay_account_format.test(t)&&(e="error_200003"),e},ck_float_format=function(t){var e="";return t&&0==float_format.test(t)&&(e="error_200007"),e},ck_ratio_format=function(t){if(t){if(!int_format.test(t)&&!float_format.test(t))return"error_200013";if(t<0||t>100)return"error_200014"}return""},ck_int_format=function(t){if(t){if(t=t.toString().replaceAll(",",""),0==int_format.test(t))return"error_200007";if((t=parseInt(t))>2147483647)return"error_200015"}return""},ck_email_format=function(t){var e="";return t&&0==emailFormat.test(t)&&(e="error_200003"),e},ck_text_language=function(t){var e="";return t&&0==ch_pt_en_langFormat.test(t)&&(e="error_200006"),e},ck_text_corp_name_at_least=function(t,e,n){var a="";return t||e||n||(a="error_200004"),a},ck_text_cv_name_at_least=function(t,e){var n="";return t||e||(n="error_200004"),n},ck_text_chinese_limit=function(t){var e="";return t&&0==ch_langFormat.test(t)&&(e="error_200013"),e},ck_text_portuguese_limit=function(t){var e="";return t&&0==pt_langFormat.test(t)&&(e="error_200014"),e},ck_text_english_limit=function(t){var e="";return t&&0==en_langFormat.test(t)&&(e="error_200012"),e},ck_text_english_number_limit=function(t){var e="";return t&&0==en_langFormat.test(t)&&(e="error_200009"),e},ck_url_format=function(t){var e="";return t&&0==urlFormat.test(t)&&(e="error_200003"),e},ck_address_format=function(t,e,n,a){var r="";return a&&(e&&!n?r="error_200015":!t||e&&n||(r="error_200015")),r},ck_latitude_format=function(t){var e="";return 0==latitudeFormat.test(t)&&(e="error_200003"),e},ck_longitude_format=function(t){var e="";return 0==longitudeFormat.test(t)&&(e="error_200003"),e},ck_double_date_order=function(t,e){var n="",a=new Date(t),r=new Date(e);return a&&r&&a.getTime()>r.getTime()&&(n="error_200008"),n},ck_date_format=function(t){var e="";if(t){var n=new Date(t);"Invalid Date"==n.toString()&&(e="error_200012"),t.indexOf("/")>-1&&n.getDate()!=t.toString().split("/")[2].split(" ")[0]&&(e="error_200012"),t.indexOf("-")>-1&&n.getDate()!=t.toString().split("-")[2].split(" ")[0]&&(e="error_200012")}return e},ck_select_empty=function(t){var e="";return t&&0!=t||(e="error_200005"),e},ck_select_option_empty=function(t){var e="";return t||(e="error_200010"),e},ck_tel_format=function(t){var e="";t||(t="");return!(t.length<8)&&/^[\d-]+$/.test(t)||(e="error_200003"),e},ck_direct_or_office=function(t,e){var n="";return t||e||(n="error_200004"),n},ck_file_empty=function(t){var e="";return t[0]||(e="error_200011"),e},ck_policy_agree=function(t){var e="";return t||(e="error_200001"),e},ck_password_length_limit=function(t,e,n){var a="";return(t.length<e||t.length>n)&&(a=langTrans("error_200201").replace("[[minLimit]]",e).replace("[[maxLimit]]",n)),a},ck_password_english_number_format=function(t){var e="";return 0==en_langFormat.test(t)&&(e="error_200202"),e},ck_confirm_password_same=function(t,e){var n="";return t!=e&&(n="error_200204"),n},ck_access_units_select_empty=function(){var t="",e=document.querySelector("[name=scope_type]");if(e&&""==e.value){var n=document.querySelector("#access_units");if(n)n.querySelectorAll("[type=checkbox]:checked").length<1&&(t="error_200205")}return t},take_first_invalid_obj=function(t,e){var n="",a=form_validate_rule_controller(t,e);return $(a).each(function(){if(!n){var t="";this.is_enabled()&&(t=this.check()),t&&(n=this.check_inputs[0])}}),n},form_validate=function(t,e,n){var a=new Map,r=form_validate_rule_controller(t,e);return n&&(r=r.filter(t=>t.tags.indexOf(n)>-1)),cl("rules after filter, input_tag: "+n,r),$(r).each(function(){var t="";this.is_enabled()&&(ck_style_controller(this.check_inputs,this.alerts,null,!1),t=this.check(),ck_style_controller(this.check_inputs,this.alerts,t,!0)),t&&a.set(this.tags[0],[t])}),a},ck_style_controller=function(t,e,n,a){a?n&&($(t).each(function(){this.addClass("required-border"),"agree"==this.attr("id")&&this.addClass("checkbox_alert")}),$(e).each(function(){this.html(langTrans(n))})):($(t).each(function(){this.removeClass("required-border"),"agree"==this.attr("id")&&this.removeClass("checkbox_alert")}),$(e).each(function(){this.html("")}))},collect_all_check_input_and_bind_event=function(t,e){var n=[],a=[],r=form_validate_rule_controller(t,e);$(r).each(function(){var t=this.check_inputs;this.dynamic;$(t).each(function(){n.indexOf(this.attr("name"))<0&&(n.push(this.attr("name")),a.push(this))})}),cl("input_ids",n),$(a).each(function(){this.bind("blur",function(){form_validate(t,e,this.getAttribute("name"))})}),$(r).each(function(){if(this.is_enabled()){ck_style_controller(this.check_inputs,this.alerts,null,!1);var t=this.check();ck_style_controller(this.check_inputs,this.alerts,t,!0)}})},form_validate_rule_controller=function(t,e){var n="";switch(e){case"material":n=material_validate_rules(t);break;case"story_cover":n=story_cover_validate_rules(t);break;case"story_chapter":n=story_chapter_validate_rules(t);break;case"web_report":n=web_report_validate_rules(t);break;case"web_openAPI":n=web_openAPI_validate_rules(t)}return n},material_validate_rules=function(t){var e=[{tags:["title"],group_inputs:[],check_inputs:[(t=t?$(t):$("#data_form")).find("[name=title]")],values:[t.find("[name=title]").val()],alerts:[t.find("[data-alert=title]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["title"],group_inputs:[],check_inputs:[t.find("[name=title]")],values:[t.find("[name=title]").val()],alerts:[t.find("[data-alert=title]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],30)}},{tags:["intro"],group_inputs:[],check_inputs:[t.find("[name=intro]")],values:[t.find("[name=intro]").val()],alerts:[t.find("[data-alert=intro]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["intro"],group_inputs:[],check_inputs:[t.find("[name=intro]")],values:[t.find("[name=intro]").val()],alerts:[t.find("[data-alert=intro]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],1e3)}},{tags:["category"],group_inputs:[],check_inputs:[t.find("[name=category]")],values:[t.find("[name=category]").val()],alerts:[t.find("[data-alert=category]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_select_empty(...this.values)}},{tags:["rights"],group_inputs:[],check_inputs:[t.find("[name=rights]")],values:[""],alerts:[t.find("[data-alert=rights]")],is_enabled:function(){return this.check_inputs[0].length>0},check:function(){return ck_select_empty(pull_value_controller(t[0],"rights","","radio"))}}];return cl("material form rules",e),e},story_cover_validate_rules=function(t){var e=[{tags:["title"],group_inputs:[],check_inputs:[(t=t?$(t):$("#data_form")).find("[name=title]")],values:[t.find("[name=title]").val()],alerts:[t.find("[data-alert=title]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["title"],group_inputs:[],check_inputs:[t.find("[name=title]")],values:[t.find("[name=title]").val()],alerts:[t.find("[data-alert=title]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],30)}},{tags:["intro"],group_inputs:[],check_inputs:[t.find("[name=intro]")],values:[t.find("[name=intro]").val()],alerts:[t.find("[data-alert=intro]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["intro"],group_inputs:[],check_inputs:[t.find("[name=intro]")],values:[t.find("[name=intro]").val()],alerts:[t.find("[data-alert=intro]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],1e3)}},{tags:["category"],group_inputs:[],check_inputs:[t.find("[name=category]")],values:[t.find("[name=category]").val()],alerts:[t.find("[data-alert=category]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_select_empty(...this.values)}},{tags:["rights"],group_inputs:[],check_inputs:[t.find("[name=rights]")],values:[""],alerts:[t.find("[data-alert=rights]")],is_enabled:function(){return this.check_inputs[0].length>0},check:function(){return ck_select_empty(pull_value_controller(t[0],"rights","","radio"))}}];return cl("story_cover form rules",e),e},story_chapter_validate_rules=function(t){var e=[{tags:["title"],group_inputs:[],check_inputs:[(t=t?$(t):$("#data_form")).find("[name=title]")],values:[t.find("[name=title]").val()],alerts:[t.find("[data-alert=title]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["title"],group_inputs:[],check_inputs:[t.find("[name=title]")],values:[t.find("[name=title]").val()],alerts:[t.find("[data-alert=title]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],20)}},{tags:["intro"],group_inputs:[],check_inputs:[t.find("[name=intro]")],values:[t.find("[name=intro]").val()],alerts:[t.find("[data-alert=intro]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["intro"],group_inputs:[],check_inputs:[t.find("[name=intro]")],values:[t.find("[name=intro]").val()],alerts:[t.find("[data-alert=intro]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],1e3)}}];return cl("story_chapter form rules",e),e},web_report_validate_rules=function(t){var e=[{tags:["name"],group_inputs:[],check_inputs:[(t=t?$(t):$("#data_form")).find("[name=name]")],values:[t.find("[name=name]").val()],alerts:[t.find("[data-alert=name]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["name"],group_inputs:[],check_inputs:[t.find("[name=name]")],values:[t.find("[name=name]").val()],alerts:[t.find("[data-alert=name]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],200)}},{tags:["email"],group_inputs:[],check_inputs:[t.find("[name=email]")],values:[t.find("[name=email]").val()],alerts:[t.find("[data-alert=email]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["email"],group_inputs:[],check_inputs:[t.find("[name=email]")],values:[t.find("[name=email]").val()],alerts:[t.find("[data-alert=email]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],200)}},{tags:["email"],group_inputs:[],check_inputs:[t.find("[name=email]")],values:[t.find("[name=email]").val()],alerts:[t.find("[data-alert=email]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)&&!ck_text_length_empty(this.values[0],200)},check:function(){return ck_email_format(...this.values)}},{tags:["tel"],group_inputs:[],check_inputs:[t.find("[name=tel]")],values:[t.find("[name=tel]").val()],alerts:[t.find("[data-alert=tel]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["tel"],group_inputs:[],check_inputs:[t.find("[name=tel]")],values:[t.find("[name=tel]").val()],alerts:[t.find("[data-alert=tel]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],200)}},{tags:["mobile"],group_inputs:[],check_inputs:[t.find("[name=mobile]")],values:[t.find("[name=mobile]").val()],alerts:[t.find("[data-alert=mobile]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],200)}},{tags:["Qsort"],group_inputs:[],check_inputs:[t.find("[name=Qsort]")],values:[""],alerts:[t.find("[data-alert=Qsort]")],is_enabled:function(){return this.check_inputs[0].length>0},check:function(){return ck_select_empty(pull_value_controller(t[0],"Qsort","","checkboxes"))}},{tags:["content"],group_inputs:[],check_inputs:[t.find("[name=content]")],values:[t.find("[name=content]").val()],alerts:[t.find("[data-alert=content]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["content"],group_inputs:[],check_inputs:[t.find("[name=content]")],values:[t.find("[name=content]").val()],alerts:[t.find("[data-alert=content]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],1e3)}},{tags:["captchaTextBox"],group_inputs:[],check_inputs:[t.find("[name=captchaTextBox]")],values:[t.find("[name=captchaTextBox]").val()],alerts:[t.find("[data-alert=captchaTextBox]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}}];return cl("web_report form rules",e),e},web_openAPI_validate_rules=function(t){var e=[{tags:["FullName"],group_inputs:[],check_inputs:[(t=t?$(t):$("#data_form")).find("[name=FullName]")],values:[t.find("[name=FullName]").val()],alerts:[t.find("[data-alert=FullName]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["FullName"],group_inputs:[],check_inputs:[t.find("[name=FullName]")],values:[t.find("[name=FullName]").val()],alerts:[t.find("[data-alert=FullName]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],100)}},{tags:["Company"],group_inputs:[],check_inputs:[t.find("[name=Company]")],values:[t.find("[name=Company]").val()],alerts:[t.find("[data-alert=Company]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["Company"],group_inputs:[],check_inputs:[t.find("[name=Company]")],values:[t.find("[name=Company]").val()],alerts:[t.find("[data-alert=Company]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],100)}},{tags:["Tel"],group_inputs:[],check_inputs:[t.find("[name=Tel]")],values:[t.find("[name=Tel]").val()],alerts:[t.find("[data-alert=Tel]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["Tel"],group_inputs:[],check_inputs:[t.find("[name=Tel]")],values:[t.find("[name=Tel]").val()],alerts:[t.find("[data-alert=Tel]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],20)}},{tags:["Email"],group_inputs:[],check_inputs:[t.find("[name=Email]")],values:[t.find("[name=Email]").val()],alerts:[t.find("[data-alert=Email]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["Email"],group_inputs:[],check_inputs:[t.find("[name=Email]")],values:[t.find("[name=Email]").val()],alerts:[t.find("[data-alert=Email]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],100)}},{tags:["Email"],group_inputs:[],check_inputs:[t.find("[name=Email]")],values:[t.find("[name=Email]").val()],alerts:[t.find("[data-alert=Email]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)&&!ck_text_length_empty(this.values[0],100)},check:function(){return ck_email_format(...this.values)}},{tags:["Contents"],group_inputs:[],check_inputs:[t.find("[name=Contents]")],values:[t.find("[name=Contents]").val()],alerts:[t.find("[data-alert=Contents]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}},{tags:["Contents"],group_inputs:[],check_inputs:[t.find("[name=Contents]")],values:[t.find("[name=Contents]").val()],alerts:[t.find("[data-alert=Contents]")],is_enabled:function(){return 1==this.check_inputs[0].length&&!ck_text_empty(...this.values)},check:function(){return ck_text_length_empty(this.values[0],1e3)}},{tags:["captchaTextBox"],group_inputs:[],check_inputs:[t.find("[name=captchaTextBox]")],values:[t.find("[name=captchaTextBox]").val()],alerts:[t.find("[data-alert=captchaTextBox]")],is_enabled:function(){return 1==this.check_inputs[0].length},check:function(){return ck_text_empty(...this.values)}}];return cl("web_openAPI form rules",e),e};