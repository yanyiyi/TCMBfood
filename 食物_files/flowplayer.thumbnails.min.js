/*!

   Thumbnail image plugin for Flowplayer HTML5

   Copyright (c) 2015-2017, Flowplayer Drive Oy

   Released under the MIT License:
   http://www.opensource.org/licenses/mit-license.php

   requires:
   - Flowplayer HTML5 version 6.x or greater
   revision: b265d46

*/
!function(){"use strict";var o=function(o){o(function(e,n){var t=o.common,i=o.bean,a=o.extend,r=o.support,s=t.find(".fp-timeline",n)[0],d=t.find(".fp-time"+(0===o.version.indexOf("6.")?"line-tooltip":"stamp"),n)[0];!r.touch&&r.inlineVideo&&e.on("ready",function(o,r,l){i.off(n,".thumbnails"),t.css(d,{width:"",height:"","background-image":"","background-repeat":"","background-size":"","background-position":"",border:"","text-shadow":""});var u=a({lazyload:!0,responsive:!0},r.conf.thumbnails,l.thumbnails),c=u.template,f=c&&c.indexOf("{time}")<0;if(c&&(!f||u.rows&&u.columns&&u.width&&u.height)){var h,p,m=f?u.height/u.rows:u.height||80,g=t.find(".fp-engine",n)[0],w=(l.height||t.height(g))/(l.width||t.width(g)),b=f?u.width/u.columns:m/w,v=u.interval||1,x=u.time_format||function(o){return o},k="number"==typeof u.startIndex?u.startIndex:1,y=u.lazyload?new Image:null;u.preload&&(h=l.duration,p=k,h=Math.floor(h/v+p),function o(){if(!(p>h)){var e=new Image;e.src=c.replace("{time}",x(p)),e.onload=function(){p+=1,o()}}}()),i.on(n,"mousemove.thumbnails",".fp-timeline",function(o){var r,l=((o.pageX||o.clientX)-t.offset(s).left)/t.width(s),h=Math.round(l*e.video.duration),p=function(){var o=u.responsive&&t.hasClass(n,"is-small")?.7:u.responsive&&t.hasClass(n,"is-tiny")?.6:1,e={width:b*o+"px",height:m*o+"px","background-image":"url('"+r+"')","background-repeat":"no-repeat",border:"1px solid #333","text-shadow":"1px 1px #000"};if(f){var i=Math.floor(h%u.columns)*-b-(b-b*o)/2,s=Math.floor(h/u.columns)*-m-(m-m*o)/2;e["background-position"]=i+"px "+s+"px"}else a(e,{"background-size":"cover","background-position":"center"});t.css(d,e)};h<0||h>Math.round(e.video.duration)||(h=Math.floor(h/v),r=c.replace("{time}",x(h+k)),!1!==u.lazyload?(y.src=r,i.on(y,"load",p)):p())})}})})};"object"==typeof module&&module.exports?module.exports=o:window.flowplayer&&o(window.flowplayer)}();